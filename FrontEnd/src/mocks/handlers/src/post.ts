import { PathParams, rest } from 'msw';

const posts: Post[] = [
  {
    postId: 1,
    posterId: 23,
    posterEmail: 'user1@user1',
    posterNickName: 'user1',
    title: '치킨 같이 시키실 분!!',
    description: '치킨이 먹고 싶은데 같이 드실 분 계신가요 연락주세요 기다립니다.',
    addresses: ['수택아파트 102동 앞 놀이터'],
    regDate: '2022-02-22T15:11:39',
    updateDate: '2022-02-22T15:11:39',
    imageId: '0',
  },
  {
    postId: 2,
    posterId: 24,
    posterEmail: 'user2@user1',
    posterNickName: 'user2',
    title: '족발 드실분~~!',
    description: '족발 같이 드실 분 같이 먹어요 4명 구합니다~~~!!',
    addresses: ['주공아파트 201동 앞'],
    regDate: '2022-02-22T15:12:19',
    updateDate: '2022-02-22T15:12:19',
    imageId: '1',
  },
  {
    postId: 3,
    posterId: 23,
    posterEmail: 'user1@user1',
    posterNickName: 'user1',
    title: '치킨 같이 시키실 분!!',
    description: '치킨이 먹고 싶은데 같이 드실 분 계신가요 연락주세요 기다립니다.',
    addresses: ['수택아파트 102동 앞 놀이터'],
    regDate: '2022-02-22T15:11:39',
    updateDate: '2022-02-22T15:11:39',
    imageId: '0',
  },
  {
    postId: 4,
    posterId: 24,
    posterEmail: 'user2@user1',
    posterNickName: 'user2',
    title: '족발 드실분~~!',
    description: '족발 같이 드실 분 같이 먹어요 4명 구합니다~~~!!',
    addresses: ['주공아파트 201동 앞'],
    regDate: '2022-02-22T15:12:19',
    updateDate: '2022-02-22T15:12:19',
    imageId: '1',
  },
  {
    postId: 156,
    posterId: 23,
    posterEmail: 'user1@user1',
    posterNickName: 'user1',
    title: '치킨 같이 시키실 분!!',
    description: '치킨이 먹고 싶은데 같이 드실 분 계신가요 연락주세요 기다립니다.',
    addresses: ['수택아파트 102동 앞 놀이터'],
    regDate: '2022-02-22T15:11:39',
    updateDate: '2022-02-22T15:11:39',
    imageId: '0',
  },
  {
    postId: 157,
    posterId: 24,
    posterEmail: 'user2@user1',
    posterNickName: 'user2',
    title: '족발 드실분~~!',
    description: '족발 같이 드실 분 같이 먹어요 4명 구합니다~~~!!',
    addresses: ['주공아파트 201동 앞'],
    regDate: '2022-02-22T15:12:19',
    updateDate: '2022-02-22T15:12:19',
    imageId: '1',
  },
  {
    postId: 156,
    posterId: 23,
    posterEmail: 'user1@user1',
    posterNickName: 'user1',
    title: '치킨 같이 시키실 분!!',
    description: '치킨이 먹고 싶은데 같이 드실 분 계신가요 연락주세요 기다립니다.',
    addresses: ['수택아파트 102동 앞 놀이터'],
    regDate: '2022-02-22T15:11:39',
    updateDate: '2022-02-22T15:11:39',
    imageId: '0',
  },
  {
    postId: 157,
    posterId: 24,
    posterEmail: 'user2@user1',
    posterNickName: 'user2',
    title: '족발 드실분~~!',
    description: '족발 같이 드실 분 같이 먹어요 4명 구합니다~~~!!',
    addresses: ['주공아파트 201동 앞'],
    regDate: '2022-02-22T15:12:19',
    updateDate: '2022-02-22T15:12:19',
    imageId: '1',
  },
  {
    postId: 156,
    posterId: 23,
    posterEmail: 'user1@user1',
    posterNickName: 'user1',
    title: '치킨 같이 시키실 분!!',
    description: '치킨이 먹고 싶은데 같이 드실 분 계신가요 연락주세요 기다립니다.',
    addresses: ['수택아파트 102동 앞 놀이터'],
    regDate: '2022-02-22T15:11:39',
    updateDate: '2022-02-22T15:11:39',
    imageId: '0',
  },
  {
    postId: 157,
    posterId: 24,
    posterEmail: 'user2@user1',
    posterNickName: 'user2',
    title: '족발 드실분~~!',
    description: '족발 같이 드실 분 같이 먹어요 4명 구합니다~~~!!',
    addresses: ['주공아파트 201동 앞'],
    regDate: '2022-02-22T15:12:19',
    updateDate: '2022-02-22T15:12:19',
    imageId: '1',
  },
  {
    postId: 156,
    posterId: 23,
    posterEmail: 'user1@user1',
    posterNickName: 'user1',
    title: '치킨 같이 시키실 분!!',
    description: '치킨이 먹고 싶은데 같이 드실 분 계신가요 연락주세요 기다립니다.',
    addresses: ['수택아파트 102동 앞 놀이터'],
    regDate: '2022-02-22T15:11:39',
    updateDate: '2022-02-22T15:11:39',
    imageId: '0',
  },
  {
    postId: 157,
    posterId: 24,
    posterEmail: 'user2@user1',
    posterNickName: 'user2',
    title: '족발 드실분~~!',
    description: '족발 같이 드실 분 같이 먹어요 4명 구합니다~~~!!',
    addresses: ['주공아파트 201동 앞'],
    regDate: '2022-02-22T15:12:19',
    updateDate: '2022-02-22T15:12:19',
    imageId: '1',
  },
  {
    postId: 156,
    posterId: 23,
    posterEmail: 'user1@user1',
    posterNickName: 'user1',
    title: '치킨 같이 시키실 분!!',
    description: '치킨이 먹고 싶은데 같이 드실 분 계신가요 연락주세요 기다립니다.',
    addresses: ['수택아파트 102동 앞 놀이터'],
    regDate: '2022-02-22T15:11:39',
    updateDate: '2022-02-22T15:11:39',
    imageId: '0',
  },
  {
    postId: 157,
    posterId: 24,
    posterEmail: 'user2@user1',
    posterNickName: 'user2',
    title: '족발 드실분~~!',
    description: '족발 같이 드실 분 같이 먹어요 4명 구합니다~~~!!',
    addresses: ['주공아파트 201동 앞'],
    regDate: '2022-02-22T15:12:19',
    updateDate: '2022-02-22T15:12:19',
    imageId: '1',
  },
  {
    postId: 156,
    posterId: 23,
    posterEmail: 'user1@user1',
    posterNickName: 'user1',
    title: '치킨 같이 시키실 분!!',
    description: '치킨이 먹고 싶은데 같이 드실 분 계신가요 연락주세요 기다립니다.',
    addresses: ['수택아파트 102동 앞 놀이터'],
    regDate: '2022-02-22T15:11:39',
    updateDate: '2022-02-22T15:11:39',
    imageId: '0',
  },
  {
    postId: 157,
    posterId: 24,
    posterEmail: 'user2@user1',
    posterNickName: 'user2',
    title: '족발 드실분~~!',
    description: '족발 같이 드실 분 같이 먹어요 4명 구합니다~~~!!',
    addresses: ['주공아파트 201동 앞'],
    regDate: '2022-02-22T15:12:19',
    updateDate: '2022-02-22T15:12:19',
    imageId: '1',
  },
  {
    postId: 156,
    posterId: 23,
    posterEmail: 'user1@user1',
    posterNickName: 'user1',
    title: '치킨 같이 시키실 분!!',
    description: '치킨이 먹고 싶은데 같이 드실 분 계신가요 연락주세요 기다립니다.',
    addresses: ['수택아파트 102동 앞 놀이터'],
    regDate: '2022-02-22T15:11:39',
    updateDate: '2022-02-22T15:11:39',
    imageId: '0',
  },
  {
    postId: 157,
    posterId: 24,
    posterEmail: 'user2@user1',
    posterNickName: 'user2',
    title: '족발 드실분~~!',
    description: '족발 같이 드실 분 같이 먹어요 4명 구합니다~~~!!',
    addresses: ['주공아파트 201동 앞'],
    regDate: '2022-02-22T15:12:19',
    updateDate: '2022-02-22T15:12:19',
    imageId: '1',
  },
  {
    postId: 156,
    posterId: 23,
    posterEmail: 'user1@user1',
    posterNickName: 'user1',
    title: '치킨 같이 시키실 분!!',
    description: '치킨이 먹고 싶은데 같이 드실 분 계신가요 연락주세요 기다립니다.',
    addresses: ['수택아파트 102동 앞 놀이터'],
    regDate: '2022-02-22T15:11:39',
    updateDate: '2022-02-22T15:11:39',
    imageId: '0',
  },
  {
    postId: 157,
    posterId: 24,
    posterEmail: 'user2@user1',
    posterNickName: 'user2',
    title: '족발 드실분~~!',
    description: '족발 같이 드실 분 같이 먹어요 4명 구합니다~~~!!',
    addresses: ['주공아파트 201동 앞'],
    regDate: '2022-02-22T15:12:19',
    updateDate: '2022-02-22T15:12:19',
    imageId: '1',
  },
  {
    postId: 156,
    posterId: 23,
    posterEmail: 'user1@user1',
    posterNickName: 'user1',
    title: '치킨 같이 시키실 분!!',
    description: '치킨이 먹고 싶은데 같이 드실 분 계신가요 연락주세요 기다립니다.',
    addresses: ['수택아파트 102동 앞 놀이터'],
    regDate: '2022-02-22T15:11:39',
    updateDate: '2022-02-22T15:11:39',
    imageId: '0',
  },
  {
    postId: 157,
    posterId: 24,
    posterEmail: 'user2@user1',
    posterNickName: 'user2',
    title: '족발 드실분~~!',
    description: '족발 같이 드실 분 같이 먹어요 4명 구합니다~~~!!',
    addresses: ['주공아파트 201동 앞'],
    regDate: '2022-02-22T15:12:19',
    updateDate: '2022-02-22T15:12:19',
    imageId: '1',
  },
  {
    postId: 156,
    posterId: 23,
    posterEmail: 'user1@user1',
    posterNickName: 'user1',
    title: '치킨 같이 시키실 분!!',
    description: '치킨이 먹고 싶은데 같이 드실 분 계신가요 연락주세요 기다립니다.',
    addresses: ['수택아파트 102동 앞 놀이터'],
    regDate: '2022-02-22T15:11:39',
    updateDate: '2022-02-22T15:11:39',
    imageId: '0',
  },
  {
    postId: 157,
    posterId: 24,
    posterEmail: 'user2@user1',
    posterNickName: 'user2',
    title: '족발 드실분~~!',
    description: '족발 같이 드실 분 같이 먹어요 4명 구합니다~~~!!',
    addresses: ['주공아파트 201동 앞'],
    regDate: '2022-02-22T15:12:19',
    updateDate: '2022-02-22T15:12:19',
    imageId: '1',
  },
  {
    postId: 156,
    posterId: 23,
    posterEmail: 'user1@user1',
    posterNickName: 'user1',
    title: '치킨 같이 시키실 분!!',
    description: '치킨이 먹고 싶은데 같이 드실 분 계신가요 연락주세요 기다립니다.',
    addresses: ['수택아파트 102동 앞 놀이터'],
    regDate: '2022-02-22T15:11:39',
    updateDate: '2022-02-22T15:11:39',
    imageId: '0',
  },
  {
    postId: 157,
    posterId: 24,
    posterEmail: 'user2@user1',
    posterNickName: 'user2',
    title: '족발 드실분~~!',
    description: '족발 같이 드실 분 같이 먹어요 4명 구합니다~~~!!',
    addresses: ['주공아파트 201동 앞'],
    regDate: '2022-02-22T15:12:19',
    updateDate: '2022-02-22T15:12:19',
    imageId: '1',
  },
  {
    postId: 156,
    posterId: 23,
    posterEmail: 'user1@user1',
    posterNickName: 'user1',
    title: '치킨 같이 시키실 분!!',
    description: '치킨이 먹고 싶은데 같이 드실 분 계신가요 연락주세요 기다립니다.',
    addresses: ['수택아파트 102동 앞 놀이터'],
    regDate: '2022-02-22T15:11:39',
    updateDate: '2022-02-22T15:11:39',
    imageId: '0',
  },
  {
    postId: 157,
    posterId: 24,
    posterEmail: 'user2@user1',
    posterNickName: 'user2',
    title: '족발 드실분~~!',
    description: '족발 같이 드실 분 같이 먹어요 4명 구합니다~~~!!',
    addresses: ['주공아파트 201동 앞'],
    regDate: '2022-02-22T15:12:19',
    updateDate: '2022-02-22T15:12:19',
    imageId: '1',
  },
  {
    postId: 156,
    posterId: 23,
    posterEmail: 'user1@user1',
    posterNickName: 'user1',
    title: '치킨 같이 시키실 분!!',
    description: '치킨이 먹고 싶은데 같이 드실 분 계신가요 연락주세요 기다립니다.',
    addresses: ['수택아파트 102동 앞 놀이터'],
    regDate: '2022-02-22T15:11:39',
    updateDate: '2022-02-22T15:11:39',
    imageId: '0',
  },
  {
    postId: 157,
    posterId: 24,
    posterEmail: 'user2@user1',
    posterNickName: 'user2',
    title: '족발 드실분~~!',
    description: '족발 같이 드실 분 같이 먹어요 4명 구합니다~~~!!',
    addresses: ['주공아파트 201동 앞'],
    regDate: '2022-02-22T15:12:19',
    updateDate: '2022-02-22T15:12:19',
    imageId: '1',
  },
  {
    postId: 156,
    posterId: 23,
    posterEmail: 'user1@user1',
    posterNickName: 'user1',
    title: '치킨 같이 시키실 분!!',
    description: '치킨이 먹고 싶은데 같이 드실 분 계신가요 연락주세요 기다립니다.',
    addresses: ['수택아파트 102동 앞 놀이터'],
    regDate: '2022-02-22T15:11:39',
    updateDate: '2022-02-22T15:11:39',
    imageId: '0',
  },
  {
    postId: 157,
    posterId: 24,
    posterEmail: 'user2@user1',
    posterNickName: 'user2',
    title: '족발 드실분~~!',
    description: '족발 같이 드실 분 같이 먹어요 4명 구합니다~~~!!',
    addresses: ['주공아파트 201동 앞'],
    regDate: '2022-02-22T15:12:19',
    updateDate: '2022-02-22T15:12:19',
    imageId: '1',
  },
  {
    postId: 156,
    posterId: 23,
    posterEmail: 'user1@user1',
    posterNickName: 'user1',
    title: '치킨 같이 시키실 분!!',
    description: '치킨이 먹고 싶은데 같이 드실 분 계신가요 연락주세요 기다립니다.',
    addresses: ['수택아파트 102동 앞 놀이터'],
    regDate: '2022-02-22T15:11:39',
    updateDate: '2022-02-22T15:11:39',
    imageId: '0',
  },
  {
    postId: 157,
    posterId: 24,
    posterEmail: 'user2@user1',
    posterNickName: 'user2',
    title: '족발 드실분~~!',
    description: '족발 같이 드실 분 같이 먹어요 4명 구합니다~~~!!',
    addresses: ['주공아파트 201동 앞'],
    regDate: '2022-02-22T15:12:19',
    updateDate: '2022-02-22T15:12:19',
    imageId: '1',
  },
  {
    postId: 156,
    posterId: 23,
    posterEmail: 'user1@user1',
    posterNickName: 'user1',
    title: '치킨 같이 시키실 분!!',
    description: '치킨이 먹고 싶은데 같이 드실 분 계신가요 연락주세요 기다립니다.',
    addresses: ['수택아파트 102동 앞 놀이터'],
    regDate: '2022-02-22T15:11:39',
    updateDate: '2022-02-22T15:11:39',
    imageId: '0',
  },
  {
    postId: 157,
    posterId: 24,
    posterEmail: 'user2@user1',
    posterNickName: 'user2',
    title: '족발 드실분~~!',
    description: '족발 같이 드실 분 같이 먹어요 4명 구합니다~~~!!',
    addresses: ['주공아파트 201동 앞'],
    regDate: '2022-02-22T15:12:19',
    updateDate: '2022-02-22T15:12:19',
    imageId: '1',
  },
  {
    postId: 156,
    posterId: 23,
    posterEmail: 'user1@user1',
    posterNickName: 'user1',
    title: '치킨 같이 시키실 분!!',
    description: '치킨이 먹고 싶은데 같이 드실 분 계신가요 연락주세요 기다립니다.',
    addresses: ['수택아파트 102동 앞 놀이터'],
    regDate: '2022-02-22T15:11:39',
    updateDate: '2022-02-22T15:11:39',
    imageId: '0',
  },
  {
    postId: 157,
    posterId: 24,
    posterEmail: 'user2@user1',
    posterNickName: 'user2',
    title: '족발 드실분~~!',
    description: '족발 같이 드실 분 같이 먹어요 4명 구합니다~~~!!',
    addresses: ['주공아파트 201동 앞'],
    regDate: '2022-02-22T15:12:19',
    updateDate: '2022-02-22T15:12:19',
    imageId: '1',
  },
  {
    postId: 1,
    posterId: 23,
    posterEmail: 'user1@user1',
    posterNickName: 'user1',
    title: '치킨 같이 시키실 분!!',
    description: '치킨이 먹고 싶은데 같이 드실 분 계신가요 연락주세요 기다립니다.',
    addresses: ['수택아파트 102동 앞 놀이터'],
    regDate: '2022-02-22T15:11:39',
    updateDate: '2022-02-22T15:11:39',
    imageId: '0',
  },
  {
    postId: 157,
    posterId: 24,
    posterEmail: 'user2@user1',
    posterNickName: 'user2',
    title: '족발 드실분~~!',
    description: '족발 같이 드실 분 같이 먹어요 4명 구합니다~~~!!',
    addresses: ['주공아파트 201동 앞'],
    regDate: '2022-02-22T15:12:19',
    updateDate: '2022-02-22T15:12:19',
    imageId: '1',
  },
  {
    postId: 156,
    posterId: 23,
    posterEmail: 'user1@user1',
    posterNickName: 'user1',
    title: '치킨 같이 시키실 분!!',
    description: '치킨이 먹고 싶은데 같이 드실 분 계신가요 연락주세요 기다립니다.',
    addresses: ['수택아파트 102동 앞 놀이터'],
    regDate: '2022-02-22T15:11:39',
    updateDate: '2022-02-22T15:11:39',
    imageId: '0',
  },
  {
    postId: 157,
    posterId: 24,
    posterEmail: 'user2@user1',
    posterNickName: 'user2',
    title: '족발 드실분~~!',
    description: '족발 같이 드실 분 같이 먹어요 4명 구합니다~~~!!',
    addresses: ['주공아파트 201동 앞'],
    regDate: '2022-02-22T15:12:19',
    updateDate: '2022-02-22T15:12:19',
    imageId: '1',
  },
  {
    postId: 156,
    posterId: 23,
    posterEmail: 'user1@user1',
    posterNickName: 'user1',
    title: '치킨 같이 시키실 분!!',
    description: '치킨이 먹고 싶은데 같이 드실 분 계신가요 연락주세요 기다립니다.',
    addresses: ['수택아파트 102동 앞 놀이터'],
    regDate: '2022-02-22T15:11:39',
    updateDate: '2022-02-22T15:11:39',
    imageId: '0',
  },
  {
    postId: 157,
    posterId: 24,
    posterEmail: 'user2@user1',
    posterNickName: 'user2',
    title: '족발 드실분~~!',
    description: '족발 같이 드실 분 같이 먹어요 4명 구합니다~~~!!',
    addresses: ['주공아파트 201동 앞'],
    regDate: '2022-02-22T15:12:19',
    updateDate: '2022-02-22T15:12:19',
    imageId: '1',
  },
];

const getPosts = rest.get<PostsRequestBody, PathParams, PostsResponseBody>(
  '/posts',
  (req, res, ctx) => {
    const page = Number(req.url.searchParams.get('page')) || 1;
    const pageSize = Number(req.url.searchParams.get('pageSize')) || 10;
    const title = req.url.searchParams.get('title') || '';

    const beginIndex = (page - 1) * pageSize;

    const filteredPosts = posts
      .filter((p) => p.title.includes(title))
      .slice(beginIndex, beginIndex + 10);

    return res(
      ctx.status(200),
      ctx.json({
        next: true,
        data: filteredPosts,
      })
    );
  }
);

export default {
  getPosts,
};
